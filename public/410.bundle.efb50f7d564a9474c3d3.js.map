{"version":3,"file":"410.bundle.efb50f7d564a9474c3d3.js","mappings":"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","sources":["webpack:///../../../modes/basic-dev-mode/src/toolbarButtons.js","webpack:///../../../modes/basic-dev-mode/src/id.js","webpack:///../../../modes/basic-dev-mode/src/index.js"],"sourcesContent":["// TODO: torn, can either bake this here; or have to create a whole new button type\r\n// Only ways that you can pass in a custom React component for render :l\r\nimport {\r\n  // ExpandableToolbarButton,\r\n  // ListMenu,\r\n  WindowLevelMenuItem,\r\n} from '@ohif/ui';\r\nimport { defaults } from '@ohif/core';\r\n\r\nconst { windowLevelPresets } = defaults;\r\n/**\r\n *\r\n * @param {*} type - 'tool' | 'action' | 'toggle'\r\n * @param {*} id\r\n * @param {*} icon\r\n * @param {*} label\r\n */\r\nfunction _createButton(type, id, icon, label, commands, tooltip) {\r\n  return {\r\n    id,\r\n    icon,\r\n    label,\r\n    type,\r\n    commands,\r\n    tooltip,\r\n  };\r\n}\r\n\r\nconst _createActionButton = _createButton.bind(null, 'action');\r\nconst _createToggleButton = _createButton.bind(null, 'toggle');\r\nconst _createToolButton = _createButton.bind(null, 'tool');\r\n\r\n/**\r\n *\r\n * @param {*} preset - preset number (from above import)\r\n * @param {*} title\r\n * @param {*} subtitle\r\n */\r\nfunction _createWwwcPreset(preset, title, subtitle) {\r\n  return {\r\n    id: preset.toString(),\r\n    title,\r\n    subtitle,\r\n    type: 'action',\r\n    commands: [\r\n      {\r\n        commandName: 'setWindowLevel',\r\n        commandOptions: {\r\n          ...windowLevelPresets[preset],\r\n        },\r\n        context: 'CORNERSTONE',\r\n      },\r\n    ],\r\n  };\r\n}\r\n\r\nconst toolbarButtons = [\r\n  // Measurement\r\n  {\r\n    id: 'MeasurementTools',\r\n    type: 'ohif.splitButton',\r\n    props: {\r\n      groupId: 'MeasurementTools',\r\n      isRadio: true, // ?\r\n      // Switch?\r\n      primary: _createToolButton(\r\n        'Length',\r\n        'tool-length',\r\n        'Length',\r\n        [\r\n          {\r\n            commandName: 'setToolActive',\r\n            commandOptions: {\r\n              toolName: 'Length',\r\n            },\r\n            context: 'CORNERSTONE',\r\n          },\r\n        ],\r\n        'Length'\r\n      ),\r\n      secondary: {\r\n        icon: 'chevron-down',\r\n        label: '',\r\n        isActive: true,\r\n        tooltip: 'More Measure Tools',\r\n      },\r\n      items: [\r\n        _createToolButton(\r\n          'Length',\r\n          'tool-length',\r\n          'Length',\r\n          [\r\n            {\r\n              commandName: 'setToolActive',\r\n              commandOptions: {\r\n                toolName: 'Length',\r\n              },\r\n              context: 'CORNERSTONE',\r\n            },\r\n          ],\r\n          'Length Tool'\r\n        ),\r\n        _createToolButton(\r\n          'Bidirectional',\r\n          'tool-bidirectional',\r\n          'Bidirectional',\r\n          [\r\n            {\r\n              commandName: 'setToolActive',\r\n              commandOptions: {\r\n                toolName: 'Bidirectional',\r\n              },\r\n              context: 'CORNERSTONE',\r\n            },\r\n          ],\r\n          'Bidirectional Tool'\r\n        ),\r\n        _createToolButton(\r\n          'EllipticalROI',\r\n          'tool-elipse',\r\n          'Ellipse',\r\n          [\r\n            {\r\n              commandName: 'setToolActive',\r\n              commandOptions: {\r\n                toolName: 'EllipticalROI',\r\n              },\r\n              context: 'CORNERSTONE',\r\n            },\r\n          ],\r\n          'Ellipse Tool'\r\n        ),\r\n        _createToolButton(\r\n          'CircleROI',\r\n          'tool-circle',\r\n          'Circle',\r\n          [\r\n            {\r\n              commandName: 'setToolActive',\r\n              commandOptions: {\r\n                toolName: 'CircleROI',\r\n              },\r\n              context: 'CORNERSTONE',\r\n            },\r\n          ],\r\n          'Circle Tool'\r\n        ),\r\n      ],\r\n    },\r\n  },\r\n  // Zoom..\r\n  {\r\n    id: 'Zoom',\r\n    type: 'ohif.radioGroup',\r\n    props: {\r\n      type: 'tool',\r\n      icon: 'tool-zoom',\r\n      label: 'Zoom',\r\n      commands: [\r\n        {\r\n          commandName: 'setToolActive',\r\n          commandOptions: {\r\n            toolName: 'Zoom',\r\n          },\r\n          context: 'CORNERSTONE',\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  // Window Level + Presets...\r\n  {\r\n    id: 'WindowLevel',\r\n    type: 'ohif.splitButton',\r\n    props: {\r\n      groupId: 'WindowLevel',\r\n      primary: _createToolButton(\r\n        'WindowLevel',\r\n        'tool-window-level',\r\n        'Window Level',\r\n        [\r\n          {\r\n            commandName: 'setToolActive',\r\n            commandOptions: {\r\n              toolName: 'WindowLevel',\r\n            },\r\n            context: 'CORNERSTONE',\r\n          },\r\n        ],\r\n        'Window Level'\r\n      ),\r\n      secondary: {\r\n        icon: 'chevron-down',\r\n        label: 'W/L Manual',\r\n        isActive: true,\r\n        tooltip: 'W/L Presets',\r\n      },\r\n      isAction: true, // ?\r\n      renderer: WindowLevelMenuItem,\r\n      items: [\r\n        _createWwwcPreset(1, 'Soft tissue', '400 / 40'),\r\n        _createWwwcPreset(2, 'Lung', '1500 / -600'),\r\n        _createWwwcPreset(3, 'Liver', '150 / 90'),\r\n        _createWwwcPreset(4, 'Bone', '2500 / 480'),\r\n        _createWwwcPreset(5, 'Brain', '80 / 40'),\r\n      ],\r\n    },\r\n  },\r\n  // Pan...\r\n  {\r\n    id: 'Pan',\r\n    type: 'ohif.radioGroup',\r\n    props: {\r\n      type: 'tool',\r\n      icon: 'tool-move',\r\n      label: 'Pan',\r\n      commands: [\r\n        {\r\n          commandName: 'setToolActive',\r\n          commandOptions: {\r\n            toolName: 'Pan',\r\n          },\r\n          context: 'CORNERSTONE',\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  {\r\n    id: 'Capture',\r\n    type: 'ohif.action',\r\n    props: {\r\n      icon: 'tool-capture',\r\n      label: 'Capture',\r\n      type: 'action',\r\n      commands: [\r\n        {\r\n          commandName: 'showDownloadViewportModal',\r\n          commandOptions: {},\r\n          context: 'CORNERSTONE',\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  {\r\n    id: 'Layout',\r\n    type: 'ohif.layoutSelector',\r\n  },\r\n  // More...\r\n  {\r\n    id: 'MoreTools',\r\n    type: 'ohif.splitButton',\r\n    props: {\r\n      isRadio: true, // ?\r\n      groupId: 'MoreTools',\r\n      primary: _createActionButton(\r\n        'Reset',\r\n        'tool-reset',\r\n        'Reset View',\r\n        [\r\n          {\r\n            commandName: 'resetViewport',\r\n            commandOptions: {},\r\n            context: 'CORNERSTONE',\r\n          },\r\n        ],\r\n        'Reset'\r\n      ),\r\n      secondary: {\r\n        icon: 'chevron-down',\r\n        label: '',\r\n        isActive: true,\r\n        tooltip: 'More Tools',\r\n      },\r\n      items: [\r\n        _createActionButton(\r\n          'Reset',\r\n          'tool-reset',\r\n          'Reset View',\r\n          [\r\n            {\r\n              commandName: 'resetViewport',\r\n              commandOptions: {},\r\n              context: 'CORNERSTONE',\r\n            },\r\n          ],\r\n          'Reset'\r\n        ),\r\n        _createActionButton(\r\n          'rotate-right',\r\n          'tool-rotate-right',\r\n          'Rotate Right',\r\n          [\r\n            {\r\n              commandName: 'rotateViewportCW',\r\n              commandOptions: {},\r\n              context: 'CORNERSTONE',\r\n            },\r\n          ],\r\n          'Rotate +90'\r\n        ),\r\n        _createActionButton(\r\n          'flip-horizontal',\r\n          'tool-flip-horizontal',\r\n          'Flip Horizontally',\r\n          [\r\n            {\r\n              commandName: 'flipViewportHorizontal',\r\n              commandOptions: {},\r\n              context: 'CORNERSTONE',\r\n            },\r\n          ],\r\n          'Flip Horizontal'\r\n        ),\r\n        _createToolButton(\r\n          'StackScroll',\r\n          'tool-stack-scroll',\r\n          'Stack Scroll',\r\n          [\r\n            {\r\n              commandName: 'setToolActive',\r\n              commandOptions: {\r\n                toolName: 'StackScroll',\r\n              },\r\n              context: 'CORNERSTONE',\r\n            },\r\n          ],\r\n          'Stack Scroll'\r\n        ),\r\n        _createActionButton(\r\n          'invert',\r\n          'tool-invert',\r\n          'Invert',\r\n          [\r\n            {\r\n              commandName: 'invertViewport',\r\n              commandOptions: {},\r\n              context: 'CORNERSTONE',\r\n            },\r\n          ],\r\n          'Invert Colors'\r\n        ),\r\n        _createToolButton(\r\n          'CalibrationLine',\r\n          'tool-calibration',\r\n          'Calibration',\r\n          [\r\n            {\r\n              commandName: 'setToolActive',\r\n              commandOptions: {\r\n                toolName: 'CalibrationLine',\r\n              },\r\n              context: 'CORNERSTONE',\r\n            },\r\n          ],\r\n          'Calibration Line'\r\n        ),\r\n      ],\r\n    },\r\n  },\r\n];\r\n\r\nexport default toolbarButtons;\r\n","import packageJson from '../package.json';\r\n\r\nconst id = packageJson.name;\r\n\r\nexport { id };\r\n","import toolbarButtons from './toolbarButtons.js';\r\nimport { hotkeys } from '@ohif/core';\r\nimport { id } from './id';\r\n\r\nconst configs = {\r\n  Length: {},\r\n  //\r\n};\r\n\r\nconst ohif = {\r\n  layout: '@ohif/extension-default.layoutTemplateModule.viewerLayout',\r\n  sopClassHandler: '@ohif/extension-default.sopClassHandlerModule.stack',\r\n  measurements: '@ohif/extension-default.panelModule.measure',\r\n  thumbnailList: '@ohif/extension-default.panelModule.seriesList',\r\n};\r\n\r\nconst cs3d = {\r\n  viewport: '@ohif/extension-cornerstone.viewportModule.cornerstone',\r\n};\r\n\r\nconst dicomsr = {\r\n  sopClassHandler: '@ohif/extension-cornerstone-dicom-sr.sopClassHandlerModule.dicom-sr',\r\n  viewport: '@ohif/extension-cornerstone-dicom-sr.viewportModule.dicom-sr',\r\n};\r\n\r\nconst dicomvideo = {\r\n  sopClassHandler: '@ohif/extension-dicom-video.sopClassHandlerModule.dicom-video',\r\n  viewport: '@ohif/extension-dicom-video.viewportModule.dicom-video',\r\n};\r\n\r\nconst dicompdf = {\r\n  sopClassHandler: '@ohif/extension-dicom-pdf.sopClassHandlerModule.dicom-pdf',\r\n  viewport: '@ohif/extension-dicom-pdf.viewportModule.dicom-pdf',\r\n};\r\n\r\nconst extensionDependencies = {\r\n  '@ohif/extension-default': '^3.0.0',\r\n  '@ohif/extension-cornerstone': '^3.0.0',\r\n  '@ohif/extension-cornerstone-dicom-sr': '^3.0.0',\r\n  '@ohif/extension-dicom-pdf': '^3.0.1',\r\n  '@ohif/extension-dicom-video': '^3.0.1',\r\n};\r\n\r\nfunction modeFactory({ modeConfiguration }) {\r\n  return {\r\n    id,\r\n    routeName: 'dev',\r\n    displayName: 'Basic Dev Viewer',\r\n    /**\r\n     * Lifecycle hooks\r\n     */\r\n    onModeEnter: ({ servicesManager, extensionManager }) => {\r\n      const { toolbarService, toolGroupService } = servicesManager.services;\r\n      const utilityModule = extensionManager.getModuleEntry(\r\n        '@ohif/extension-cornerstone.utilityModule.tools'\r\n      );\r\n\r\n      const { toolNames, Enums } = utilityModule.exports;\r\n\r\n      const tools = {\r\n        active: [\r\n          {\r\n            toolName: toolNames.WindowLevel,\r\n            bindings: [{ mouseButton: Enums.MouseBindings.Primary }],\r\n          },\r\n          {\r\n            toolName: toolNames.Pan,\r\n            bindings: [{ mouseButton: Enums.MouseBindings.Auxiliary }],\r\n          },\r\n          {\r\n            toolName: toolNames.Zoom,\r\n            bindings: [{ mouseButton: Enums.MouseBindings.Secondary }],\r\n          },\r\n          { toolName: toolNames.StackScrollMouseWheel, bindings: [] },\r\n        ],\r\n        passive: [\r\n          { toolName: toolNames.Length },\r\n          { toolName: toolNames.Bidirectional },\r\n          { toolName: toolNames.Probe },\r\n          { toolName: toolNames.EllipticalROI },\r\n          { toolName: toolNames.CircleROI },\r\n          { toolName: toolNames.RectangleROI },\r\n          { toolName: toolNames.StackScroll },\r\n          { toolName: toolNames.CalibrationLine },\r\n        ],\r\n        // enabled\r\n        enabled: [{ toolName: toolNames.ImageOverlayViewer }],\r\n        // disabled\r\n      };\r\n\r\n      const toolGroupId = 'default';\r\n      toolGroupService.createToolGroupAndAddTools(toolGroupId, tools);\r\n\r\n      let unsubscribe;\r\n\r\n      const activateTool = () => {\r\n        toolbarService.recordInteraction({\r\n          groupId: 'WindowLevel',\r\n          interactionType: 'tool',\r\n          commands: [\r\n            {\r\n              commandName: 'setToolActive',\r\n              commandOptions: {\r\n                toolName: 'WindowLevel',\r\n              },\r\n              context: 'CORNERSTONE',\r\n            },\r\n          ],\r\n        });\r\n\r\n        // We don't need to reset the active tool whenever a viewport is getting\r\n        // added to the toolGroup.\r\n        unsubscribe();\r\n      };\r\n\r\n      // Since we only have one viewport for the basic cs3d mode and it has\r\n      // only one hanging protocol, we can just use the first viewport\r\n      ({ unsubscribe } = toolGroupService.subscribe(\r\n        toolGroupService.EVENTS.VIEWPORT_ADDED,\r\n        activateTool\r\n      ));\r\n\r\n      toolbarService.init(extensionManager);\r\n      toolbarService.addButtons(toolbarButtons);\r\n      toolbarService.createButtonSection('primary', [\r\n        'MeasurementTools',\r\n        'Zoom',\r\n        'WindowLevel',\r\n        'Pan',\r\n        'Layout',\r\n        'MoreTools',\r\n      ]);\r\n    },\r\n    onModeExit: ({ servicesManager }) => {\r\n      const { toolGroupService, measurementService, toolbarService } = servicesManager.services;\r\n\r\n      toolGroupService.destroy();\r\n    },\r\n    validationTags: {\r\n      study: [],\r\n      series: [],\r\n    },\r\n    isValidMode: ({ modalities }) => {\r\n      const modalities_list = modalities.split('\\\\');\r\n\r\n      // Slide Microscopy modality not supported by basic mode yet\r\n      return !modalities_list.includes('SM');\r\n    },\r\n    routes: [\r\n      {\r\n        path: 'viewer-cs3d',\r\n        /*init: ({ servicesManager, extensionManager }) => {\r\n          //defaultViewerRouteInit\r\n        },*/\r\n        layoutTemplate: ({ location, servicesManager }) => {\r\n          return {\r\n            id: ohif.layout,\r\n            props: {\r\n              // TODO: Should be optional, or required to pass empty array for slots?\r\n              leftPanels: [ohif.thumbnailList],\r\n              rightPanels: [ohif.measurements],\r\n              viewports: [\r\n                {\r\n                  namespace: cs3d.viewport,\r\n                  displaySetsToDisplay: [ohif.sopClassHandler],\r\n                },\r\n                {\r\n                  namespace: dicomvideo.viewport,\r\n                  displaySetsToDisplay: [dicomvideo.sopClassHandler],\r\n                },\r\n                {\r\n                  namespace: dicompdf.viewport,\r\n                  displaySetsToDisplay: [dicompdf.sopClassHandler],\r\n                },\r\n              ],\r\n            },\r\n          };\r\n        },\r\n      },\r\n    ],\r\n    extensions: extensionDependencies,\r\n    hangingProtocol: 'default',\r\n    sopClassHandlers: [\r\n      dicomvideo.sopClassHandler,\r\n      ohif.sopClassHandler,\r\n      dicompdf.sopClassHandler,\r\n      dicomsr.sopClassHandler,\r\n    ],\r\n    hotkeys: [...hotkeys.defaults.hotkeyBindings],\r\n  };\r\n}\r\n\r\nconst mode = {\r\n  id,\r\n  modeFactory,\r\n  extensionDependencies,\r\n};\r\n\r\nexport default mode;\r\n"],"names":["windowLevelPresets","defaults","_createButton","type","id","icon","label","commands","tooltip","_createActionButton","bind","_createToolButton","_createWwwcPreset","preset","title","subtitle","toString","commandName","commandOptions","context","props","groupId","isRadio","primary","toolName","secondary","isActive","items","isAction","renderer","WindowLevelMenuItem","packageJson","ohif","cs3d","dicomsr","dicomvideo","dicompdf","extensionDependencies","modeFactory","_ref","modeConfiguration","routeName","displayName","onModeEnter","_ref2","servicesManager","extensionManager","toolbarService","toolGroupService","services","utilityModule","getModuleEntry","toolNames","Enums","exports","tools","active","WindowLevel","bindings","mouseButton","MouseBindings","Primary","Pan","Auxiliary","Zoom","Secondary","StackScrollMouseWheel","passive","Length","Bidirectional","Probe","EllipticalROI","CircleROI","RectangleROI","StackScroll","CalibrationLine","enabled","ImageOverlayViewer","unsubscribe","createToolGroupAndAddTools","subscribe","EVENTS","VIEWPORT_ADDED","activateTool","recordInteraction","interactionType","init","addButtons","toolbarButtons","createButtonSection","onModeExit","_ref3","measurementService","destroy","validationTags","study","series","isValidMode","_ref4","modalities","split","includes","routes","path","layoutTemplate","_ref5","location","leftPanels","rightPanels","viewports","namespace","displaySetsToDisplay","extensions","hangingProtocol","sopClassHandlers","hotkeys","hotkeyBindings"],"sourceRoot":""}